F thue_morse_digits(digits)
   R (0 .< digits).map(n -> bits:popcount(n) % 2)

print(thue_morse_digits(20))
